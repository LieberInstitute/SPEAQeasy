# All Command Options {#command-opts}

## SPEAQeasy Options

### Mandatory Parameters

* `--sample`        "single" or "paired": the orientation of your reads
* `--strand`        "unstranded", "forward", or "reverse": the strandness of your reads. Since strandness is inferred by sample in the pipeline, this option informs the pipeline to generate appropriate warnings if unexpected strandness is inferred.
* `--reference`        "hg38", "hg19", "mm10", or "rn6": the reference genome to which reads are aligned

### Optional Parameters

* `--annotation`    The path to the directory containing pipeline annotations. Defaults to "./Annotation" (relative to the repository). If annotations are not found here, the pipeline includes a step to build them.
* `--coverage` Include this flag to produce coverage bigWigs and compute expressed genomic regions. These steps are a useful precursor for analyses involving finding differentially expressed regions (DERs). Default: false
* `--custom_anno [label]` Include this flag to indicate that the directory specified with `--annotation [dir]` includes user-provided annotation files to use instead of the default files. See the "Using custom annotation" section for more details.
* `--ercc`            Include this flag to enable ERCC quantification with Kallisto (or Salmon, if `--use_salmon` is provided). This is appropriate for experiments where samples have ERCC spike-ins.
* `--experiment`    Name of the experiment being run (ex: "alzheimer"). Defaults to "Jlab_experiment"
* `--force_strand` Include this flag to continue pipeline execution with a warning, when user-provided strand contrasts with inferred strandness in any sample. Default: false (halt pipeline execution with an error message if any sample appears to be a different strandness than stated by the user)
* `--fullCov`        Include this flag to perform full coverage analysis.
* `--help`  Provides an explanation about each of these command options, and exits.
* `--input`        The path to the directory with the "samples.manifest" file. Defaults to "./input" (relative to the repository)
* `--keep_unpaired` include this flag to keep unpaired reads output from trimming paired-end samples, for use in alignment. Default: false, as this can cause issues in downstream tools like FeatureCounts.
* `--output`  The path to the directory to store pipeline output files/ objects. Defaults to "./results" (relative to the repository)
* `--prefix`    An additional label (in conjunction with "experiment") to use for the pipeline run- affecting result file names.
* `--small_test`    Uses sample files located in the test folder as input. Overrides the "--input" option.
* `--trim_mode`  Determines the conditions under which trimming occurs:
                    "skip": do not perform trimming on samples
                    "adaptive": [default] perform trimming on samples that have failed the FastQC "Adapter content" metric
                    "force": perform trimming on all samples
* `--unalign`        Include this flag to save discordant reads (when using HISAT2) or unmapped reads (when using STAR) after the alignment step (false/ not included by default)
* `--use_salmon`  Include this flag to quantify transcripts with Salmon rather than the default of Kallisto.
* `--use_star` Include this flag to use STAR during alignment, instead of the default of HISAT2.

## Nextflow Options {#next-opts}

The nextflow command itself provides many additional options you may add to your "main" script. A few of the most commonly applicable ones are documented below. For a full list, type `[path to nextflow] run -h`- the full list does not appear to be documented at [nextflow's website](https://www.nextflow.io/).

* `-w [path]` Path to the directory where nextflow will place temporary files. This directory can fill up very quickly, especially for large experiments, and so it can be useful to set this to a scratch directory or filesystem with plenty of storage capacity.
* `-resume` Include this flag if pipeline execution halts with an error for any reason, and you wish to continue where you left off from last run. Otherwise, **by default, nextflow will restart execution from the beginning**.
* `-with-report [filename]` Include this to produce an html report with execution details (such as memory usage, completion details, and much more)
* `N [email address]` Sends email to the specified address to notify the user regarding pipeline completion. Note that nextflow relies on the `sendmail` tool for this functionality- therefore `sendmail` must be available for this option to work.
