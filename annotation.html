<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>5 Annotation | SPEAQeasy</title>
  <meta name="description" content="5 Annotation | SPEAQeasy" />
  <meta name="generator" content="bookdown 0.24 and GitBook 2.6.7" />

  <meta property="og:title" content="5 Annotation | SPEAQeasy" />
  <meta property="og:type" content="book" />
  
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="5 Annotation | SPEAQeasy" />
  
  
  




  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="pipeline-overview.html"/>
<link rel="next" href="manifest.html"/>
<script src="libs/header-attrs-2.11/header-attrs.js"></script>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.0.1/anchor-sections.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.0.1/anchor-sections.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Overview</a>
<ul>
<li><a href="index.html#cite-speaqeasy">Cite <code>SPEAQeasy</code></a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#r-session-information"><i class="fa fa-check"></i>R session information</a></li>
</ul></li>
<li class="chapter" data-level="1" data-path="quick-start.html"><a href="quick-start.html"><i class="fa fa-check"></i><b>1</b> Quick Start</a>
<ul>
<li class="chapter" data-level="1.1" data-path="quick-start.html"><a href="quick-start.html#setup"><i class="fa fa-check"></i><b>1.1</b> Setup</a></li>
<li class="chapter" data-level="1.2" data-path="quick-start.html"><a href="quick-start.html#quick-config"><i class="fa fa-check"></i><b>1.2</b> Configuration</a>
<ul>
<li class="chapter" data-level="1.2.1" data-path="quick-start.html"><a href="quick-start.html#your-main-script"><i class="fa fa-check"></i><b>1.2.1</b> Your “main” script</a></li>
<li class="chapter" data-level="1.2.2" data-path="quick-start.html"><a href="quick-start.html#your-config-file"><i class="fa fa-check"></i><b>1.2.2</b> Your config file</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="2" data-path="setup-details.html"><a href="setup-details.html"><i class="fa fa-check"></i><b>2</b> Setup Details</a>
<ul>
<li class="chapter" data-level="2.1" data-path="setup-details.html"><a href="setup-details.html#requirements"><i class="fa fa-check"></i><b>2.1</b> Requirements</a></li>
<li class="chapter" data-level="2.2" data-path="setup-details.html"><a href="setup-details.html#installation"><i class="fa fa-check"></i><b>2.2</b> Installation</a>
<ul>
<li class="chapter" data-level="2.2.1" data-path="setup-details.html"><a href="setup-details.html#troubleshooting"><i class="fa fa-check"></i><b>2.2.1</b> Troubleshooting</a></li>
</ul></li>
<li class="chapter" data-level="2.3" data-path="setup-details.html"><a href="setup-details.html#run-the-pipeline"><i class="fa fa-check"></i><b>2.3</b> Run the Pipeline</a>
<ul>
<li class="chapter" data-level="2.3.1" data-path="setup-details.html"><a href="setup-details.html#run-in-a-slurm-environment-cluster"><i class="fa fa-check"></i><b>2.3.1</b> Run in a SLURM environment/ cluster</a></li>
<li class="chapter" data-level="2.3.2" data-path="setup-details.html"><a href="setup-details.html#run-on-a-sun-grid-engines-sge-cluster"><i class="fa fa-check"></i><b>2.3.2</b> Run on a Sun Grid Engines (SGE) cluster</a></li>
<li class="chapter" data-level="2.3.3" data-path="setup-details.html"><a href="setup-details.html#run-locally"><i class="fa fa-check"></i><b>2.3.3</b> Run locally</a></li>
<li class="chapter" data-level="2.3.4" data-path="setup-details.html"><a href="setup-details.html#run-on-the-jhpce-cluster"><i class="fa fa-check"></i><b>2.3.4</b> Run on the <span>JHPCE</span> cluster</a></li>
<li class="chapter" data-level="2.3.5" data-path="setup-details.html"><a href="setup-details.html#example-main-script"><i class="fa fa-check"></i><b>2.3.5</b> Example main script</a></li>
<li class="chapter" data-level="2.3.6" data-path="setup-details.html"><a href="setup-details.html#advanced-info-regarding-installation"><i class="fa fa-check"></i><b>2.3.6</b> Advanced info regarding installation</a></li>
</ul></li>
<li class="chapter" data-level="2.4" data-path="setup-details.html"><a href="setup-details.html#sharing"><i class="fa fa-check"></i><b>2.4</b> Sharing the pipeline with many users</a>
<ul>
<li class="chapter" data-level="2.4.1" data-path="setup-details.html"><a href="setup-details.html#customizing-execution-for-each-user"><i class="fa fa-check"></i><b>2.4.1</b> Customizing execution for each user</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="command-opts.html"><a href="command-opts.html"><i class="fa fa-check"></i><b>3</b> All Command Options</a>
<ul>
<li class="chapter" data-level="3.1" data-path="command-opts.html"><a href="command-opts.html#speaqeasy-options"><i class="fa fa-check"></i><b>3.1</b> SPEAQeasy Options</a>
<ul>
<li class="chapter" data-level="3.1.1" data-path="command-opts.html"><a href="command-opts.html#mandatory-parameters"><i class="fa fa-check"></i><b>3.1.1</b> Mandatory Parameters</a></li>
<li class="chapter" data-level="3.1.2" data-path="command-opts.html"><a href="command-opts.html#optional-parameters"><i class="fa fa-check"></i><b>3.1.2</b> Optional Parameters</a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="command-opts.html"><a href="command-opts.html#next-opts"><i class="fa fa-check"></i><b>3.2</b> Nextflow Options</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="pipeline-overview.html"><a href="pipeline-overview.html"><i class="fa fa-check"></i><b>4</b> Pipeline Overview</a>
<ul>
<li class="chapter" data-level="4.1" data-path="pipeline-overview.html"><a href="pipeline-overview.html#preparation-steps"><i class="fa fa-check"></i><b>4.1</b> Preparation Steps</a>
<ul>
<li class="chapter" data-level="4.1.1" data-path="pipeline-overview.html"><a href="pipeline-overview.html#downloading-required-annotation-files"><i class="fa fa-check"></i><b>4.1.1</b> Downloading required annotation files</a></li>
<li class="chapter" data-level="4.1.2" data-path="pipeline-overview.html"><a href="pipeline-overview.html#preparing-annotation-files-for-direct-use"><i class="fa fa-check"></i><b>4.1.2</b> Preparing annotation files for direct use</a></li>
</ul></li>
<li class="chapter" data-level="4.2" data-path="pipeline-overview.html"><a href="pipeline-overview.html#main-workflow-steps"><i class="fa fa-check"></i><b>4.2</b> Main Workflow Steps</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="annotation.html"><a href="annotation.html"><i class="fa fa-check"></i><b>5</b> Annotation</a>
<ul>
<li class="chapter" data-level="5.1" data-path="annotation.html"><a href="annotation.html#default-annotation"><i class="fa fa-check"></i><b>5.1</b> Default Annotation</a>
<ul>
<li class="chapter" data-level="5.1.1" data-path="annotation.html"><a href="annotation.html#choosing-a-release"><i class="fa fa-check"></i><b>5.1.1</b> Choosing a release</a></li>
<li class="chapter" data-level="5.1.2" data-path="annotation.html"><a href="annotation.html#choosing-a-build"><i class="fa fa-check"></i><b>5.1.2</b> Choosing a “build”</a></li>
<li class="chapter" data-level="5.1.3" data-path="annotation.html"><a href="annotation.html#additional-annotation-files"><i class="fa fa-check"></i><b>5.1.3</b> Additional Annotation files</a></li>
</ul></li>
<li class="chapter" data-level="5.2" data-path="annotation.html"><a href="annotation.html#custom-annotation"><i class="fa fa-check"></i><b>5.2</b> Custom Annotation</a>
<ul>
<li class="chapter" data-level="5.2.1" data-path="annotation.html"><a href="annotation.html#optional-files-to-include-depending-on-your-use-case"><i class="fa fa-check"></i><b>5.2.1</b> Optional files to include depending on your use-case</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="6" data-path="manifest.html"><a href="manifest.html"><i class="fa fa-check"></i><b>6</b> Manifest and Inputs</a>
<ul>
<li class="chapter" data-level="6.1" data-path="manifest.html"><a href="manifest.html#what-the-manifest-should-look-like"><i class="fa fa-check"></i><b>6.1</b> What the Manifest Should Look Like</a>
<ul>
<li class="chapter" data-level="6.1.1" data-path="manifest.html"><a href="manifest.html#more-details-regarding-inputs"><i class="fa fa-check"></i><b>6.1.1</b> More details regarding inputs</a></li>
</ul></li>
<li class="chapter" data-level="6.2" data-path="manifest.html"><a href="manifest.html#creating-a-manifest-file"><i class="fa fa-check"></i><b>6.2</b> Creating a manifest file</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="outputs.html"><a href="outputs.html"><i class="fa fa-check"></i><b>7</b> Pipeline Outputs</a>
<ul>
<li class="chapter" data-level="7.1" data-path="outputs.html"><a href="outputs.html#main-outputs"><i class="fa fa-check"></i><b>7.1</b> Main Outputs</a>
<ul>
<li class="chapter" data-level="7.1.1" data-path="outputs.html"><a href="outputs.html#rowranges-of-rse-objects"><i class="fa fa-check"></i><b>7.1.1</b> <code>rowRanges</code> of RSE objects</a></li>
<li class="chapter" data-level="7.1.2" data-path="outputs.html"><a href="outputs.html#coldata-of-rse-objects"><i class="fa fa-check"></i><b>7.1.2</b> <code>colData</code> of RSE objects</a></li>
<li class="chapter" data-level="7.1.3" data-path="outputs.html"><a href="outputs.html#quality-metrics"><i class="fa fa-check"></i><b>7.1.3</b> Quality Metrics</a></li>
</ul></li>
<li class="chapter" data-level="7.2" data-path="outputs.html"><a href="outputs.html#intermediary-outputs"><i class="fa fa-check"></i><b>7.2</b> Intermediary Outputs</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="configuration.html"><a href="configuration.html"><i class="fa fa-check"></i><b>8</b> Configuration</a>
<ul>
<li class="chapter" data-level="8.1" data-path="configuration.html"><a href="configuration.html#specifying-options-for-your-cluster"><i class="fa fa-check"></i><b>8.1</b> Specifying Options for your Cluster</a>
<ul>
<li class="chapter" data-level="8.1.1" data-path="configuration.html"><a href="configuration.html#time"><i class="fa fa-check"></i><b>8.1.1</b> Time</a></li>
<li class="chapter" data-level="8.1.2" data-path="configuration.html"><a href="configuration.html#cluster-specific-options"><i class="fa fa-check"></i><b>8.1.2</b> Cluster-specific options</a></li>
</ul></li>
<li class="chapter" data-level="8.2" data-path="configuration.html"><a href="configuration.html#speaqeasy-parameters"><i class="fa fa-check"></i><b>8.2</b> SPEAQeasy Parameters</a>
<ul>
<li class="chapter" data-level="8.2.1" data-path="configuration.html"><a href="configuration.html#annotation-settings"><i class="fa fa-check"></i><b>8.2.1</b> Annotation settings</a></li>
<li class="chapter" data-level="8.2.2" data-path="configuration.html"><a href="configuration.html#software-settings"><i class="fa fa-check"></i><b>8.2.2</b> Software settings</a></li>
<li class="chapter" data-level="8.2.3" data-path="configuration.html"><a href="configuration.html#miscellaneous-settings"><i class="fa fa-check"></i><b>8.2.3</b> Miscellaneous settings</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="9" data-path="software.html"><a href="software.html"><i class="fa fa-check"></i><b>9</b> Software</a>
<ul>
<li class="chapter" data-level="9.1" data-path="software.html"><a href="software.html#software-versions"><i class="fa fa-check"></i><b>9.1</b> Software Versions</a></li>
<li class="chapter" data-level="9.2" data-path="software.html"><a href="software.html#docker-images"><i class="fa fa-check"></i><b>9.2</b> Docker Images</a></li>
<li class="chapter" data-level="9.3" data-path="software.html"><a href="software.html#using-custom-software"><i class="fa fa-check"></i><b>9.3</b> Using Custom Software</a>
<ul>
<li class="chapter" data-level="9.3.1" data-path="software.html"><a href="software.html#prerequisites"><i class="fa fa-check"></i><b>9.3.1</b> Prerequisites</a></li>
<li class="chapter" data-level="9.3.2" data-path="software.html"><a href="software.html#modifying-main.nf"><i class="fa fa-check"></i><b>9.3.2</b> Modifying <code>main.nf</code></a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="10" data-path="help.html"><a href="help.html"><i class="fa fa-check"></i><b>10</b> Help</a>
<ul>
<li class="chapter" data-level="10.1" data-path="help.html"><a href="help.html#common-errors"><i class="fa fa-check"></i><b>10.1</b> Common Errors</a></li>
<li class="chapter" data-level="10.2" data-path="help.html"><a href="help.html#deeper-investigation"><i class="fa fa-check"></i><b>10.2</b> Deeper Investigation</a>
<ul>
<li class="chapter" data-level="10.2.1" data-path="help.html"><a href="help.html#checking-per-sample-logs"><i class="fa fa-check"></i><b>10.2.1</b> Checking Per-Sample Logs</a></li>
</ul></li>
<li class="chapter" data-level="10.3" data-path="help.html"><a href="help.html#resuming"><i class="fa fa-check"></i><b>10.3</b> Resuming</a>
<ul>
<li class="chapter" data-level="10.3.1" data-path="help.html"><a href="help.html#trouble-resuming"><i class="fa fa-check"></i><b>10.3.1</b> Trouble resuming?</a></li>
</ul></li>
<li class="chapter" data-level="10.4" data-path="help.html"><a href="help.html#no-internet-access"><i class="fa fa-check"></i><b>10.4</b> No Internet Access?</a></li>
<li class="chapter" data-level="10.5" data-path="help.html"><a href="help.html#docker-help"><i class="fa fa-check"></i><b>10.5</b> Docker help</a></li>
</ul></li>
<li class="chapter" data-level="11" data-path="glossary.html"><a href="glossary.html"><i class="fa fa-check"></i><b>11</b> Glossary</a></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">SPEAQeasy</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="annotation" class="section level1" number="5">
<h1><span class="header-section-number">5</span> Annotation</h1>
<p>SPEAQeasy can be run with hg38, hg19, mm10, or rn6 references. The pipeline has a default and automated process for pulling and building annotation-related files, but the user can opt to provide their own annotation as an alternative. Both of these options are documented below. In general, the pipeline uses three types of files. Example files below are the ones used with default <a href="configuration.html#configuration">configuration</a> when hg38 reference is selected.</p>
<ul>
<li><em>A genome assembly fasta</em>: the reference genome to align reads to, like the file <a href="ftp://ftp.ebi.ac.uk/pub/databases/gencode/Gencode_human/release_32/GRCh38.primary_assembly.genome.fa.gz">here</a> (but unzipped)</li>
<li><em>Gene annotation gtf</em>: containing transcript data, like the file <a href="ftp://ftp.ebi.ac.uk/pub/databases/gencode/Gencode_human/release_32/gencode.v32.annotation.gtf.gz">here</a> (but unzipped)</li>
<li><em>A transcripts fasta</em>: with the actual transcript sequences, such as the file <a href="ftp://ftp.ebi.ac.uk/pub/databases/gencode/Gencode_human/release_32/gencode.v32.transcripts.fa.gz">here</a> (but unzipped)</li>
</ul>
<div id="default-annotation" class="section level2" number="5.1">
<h2><span class="header-section-number">5.1</span> Default Annotation</h2>
<p>SPEAQeasy uses annotation files provided by <a href="ftp://ftp.ebi.ac.uk/pub/databases/gencode/">GENCODE</a> where possible- which is for references hg38, hg19, and mm10. For rn6, files are pulled directly from <a href="ftp://ftp.ensembl.org/pub/">Ensembl</a>.</p>
<div id="choosing-a-release" class="section level3" number="5.1.1">
<h3><span class="header-section-number">5.1.1</span> Choosing a release</h3>
<p>With genome and transcript annotation constantly being updated, the user may want to use a particular GENCODE release or Ensembl version. For each species, there is a corresponding <a href="configuration.html#configuration">configuration</a> variable you may set to control the versions used. The variables <code>gencode_version_human</code> and <code>gencode_version_mouse</code> refer to the GENCODE release number. Similarly, the variable <code>ensembl_version_rat</code> specifies the Ensembl version for “rn6” reference.</p>
<div class="sourceCode" id="cb19"><pre class="sourceCode groovy"><code class="sourceCode groovy"><span id="cb19-1"><a href="annotation.html#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="co">/*</span></span>
<span id="cb19-2"><a href="annotation.html#cb19-2" aria-hidden="true" tabindex="-1"></a><span class="co"> *</span></span>
<span id="cb19-3"><a href="annotation.html#cb19-3" aria-hidden="true" tabindex="-1"></a><span class="co"> *  A config file for execution in a SLURM environment</span></span>
<span id="cb19-4"><a href="annotation.html#cb19-4" aria-hidden="true" tabindex="-1"></a><span class="co"> * </span></span>
<span id="cb19-5"><a href="annotation.html#cb19-5" aria-hidden="true" tabindex="-1"></a><span class="co"> */</span></span>
<span id="cb19-6"><a href="annotation.html#cb19-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-7"><a href="annotation.html#cb19-7" aria-hidden="true" tabindex="-1"></a>executor <span class="op">=</span> <span class="st">&#39;slurm&#39;</span></span>
<span id="cb19-8"><a href="annotation.html#cb19-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-9"><a href="annotation.html#cb19-9" aria-hidden="true" tabindex="-1"></a>params <span class="op">{</span></span>
<span id="cb19-10"><a href="annotation.html#cb19-10" aria-hidden="true" tabindex="-1"></a>    gencode_version_human <span class="op">=</span> <span class="st">&quot;32&quot;</span></span>
<span id="cb19-11"><a href="annotation.html#cb19-11" aria-hidden="true" tabindex="-1"></a>    gencode_version_mouse <span class="op">=</span> <span class="st">&quot;M25&quot;</span></span>
<span id="cb19-12"><a href="annotation.html#cb19-12" aria-hidden="true" tabindex="-1"></a>    ensembl_version_rat <span class="op">=</span> <span class="st">&quot;98&quot;</span></span>
<span id="cb19-13"><a href="annotation.html#cb19-13" aria-hidden="true" tabindex="-1"></a>    anno_build <span class="op">=</span> <span class="st">&quot;main&quot;</span> <span class="co">// main or primary (main is canonical seqs only)</span></span></code></pre></div>
</div>
<div id="choosing-a-build" class="section level3" number="5.1.2">
<h3><span class="header-section-number">5.1.2</span> Choosing a “build”</h3>
<p>Depending on the analysis you are doing, you may wish to only consider the reference chromosomes (for humans, the 25 sequences chr1 through chrM) for alignment and transcript quantification. SPEAQeasy provides the option to choose from two annotation “builds” for a given release and reference, called “main” and “primary” (following the naming convention from GENCODE databases).</p>
<ul>
<li>The “main” build consists of only the canonical “reference” sequences for each species</li>
<li>The “primary” build consists of the canonical “reference” sequences and additional scaffolds, as a genome <a href="ftp://ftp.ebi.ac.uk/pub/databases/gencode/Gencode_human/release_35/GRCh38.primary_assembly.genome.fa.gz">primary assembly fasta from GENCODE</a> would contain.</li>
</ul>
<p>See the variable <code>annotation_build</code> in your <a href="configuration.html#configuration">configuration</a> file for making this selection for your pipeline run.</p>
</div>
<div id="additional-annotation-files" class="section level3" number="5.1.3">
<h3><span class="header-section-number">5.1.3</span> Additional Annotation files</h3>
<p>A .bed file containing common SNV (single nucleotide variation) sites, at which variant calling is performed (for human and mouse). Variant calling is not currently supported for rat or mouse (rn6 or mm10, respectively).
An ERCC index: this is a file generated by <a href="https://pachterlab.github.io/kallisto/">Kallisto</a> to prepare for quantifying <a href="https://www.nist.gov/programs-projects/external-rna-controls-consortium">ERCC</a> spike-ins. The index is produced from the FASTA of ERCC transcript sequences, as in the file <code>[SPEAQeasy repo]/Annotation/ERCC/ERCC92.fa</code>.</p>
</div>
</div>
<div id="custom-annotation" class="section level2" number="5.2">
<h2><span class="header-section-number">5.2</span> Custom Annotation</h2>
<p>You may wish to provide specific reference files in place of the automatically managed files described in the above section. In this case, you must supply the following files in the directory specified in the <a href="command-opts.html#command-opts">command-line option</a> <code>--annotation [dir]</code>:</p>
<ul>
<li>A genome assembly fasta (the reference genome to align reads to), such as the file <a href="ftp://ftp.ebi.ac.uk/pub/databases/gencode/Gencode_human/release_32/GRCh38.primary_assembly.genome.fa.gz">here</a>. Make sure the file has the string “assembly” in the filename, to specify to the pipeline that it is the genome reference fasta.</li>
<li>Gene annotation gtf, such as the file <a href="ftp://ftp.ebi.ac.uk/pub/databases/gencode/Gencode_human/release_32/gencode.v32.annotation.gtf.gz">here</a>- but not gzipped. This file can have any name, so long as it ends in “.gtf”.</li>
<li>A transcripts fasta, such as the file <a href="ftp://ftp.ebi.ac.uk/pub/databases/gencode/Gencode_human/release_32/gencode.v32.transcripts.fa.gz">here</a>- but not gzipped. Make sure to include “transcripts” anywhere in the filename (provided the file ends in “.fa”) to differentiate this file from the reference genome.</li>
</ul>
<div id="optional-files-to-include-depending-on-your-use-case" class="section level3" number="5.2.1">
<h3><span class="header-section-number">5.2.1</span> Optional files to include depending on your use-case</h3>
<ul>
<li>An ERCC index (this is a file specific to Kallisto needed for ERCC quantification, which is an optional component of the pipeline). You can find the index used by default at <code>[repository directory]/Annotation/ERCC/ERCC92.idx</code>. This file must end in “.idx”.</li>
<li>A list of SNV sites at which to call variants (in .bed format). Variant calling is by default only enabled for human reference. You can find the .bed files used by default for “hg38” and “hg19” at <code>[repository directory]/Annotation/Genotyping/common_missense_SNVs_hg*.bed</code>. This file can have any name provided it has the “.bed” extension.</li>
</ul>
<p>You must also add the <code>--custom_anno [label]</code> argument to your <code>run_pipeline_X.sh</code> script, to specify you are using custom annotation files. The “label” is a string you want to include in filenames generated from the annotation files you provided. This is intended to allow the use of potentially many different custom annotations, assigned a unique and informative name you choose each time. This can be anything except an empty string (which internally signifies not to use custom annotation).</p>

</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="pipeline-overview.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="manifest.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
