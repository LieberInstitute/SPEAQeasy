<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>9 Software | SPEAQeasy</title>
  <meta name="description" content="9 Software | SPEAQeasy" />
  <meta name="generator" content="bookdown 0.24 and GitBook 2.6.7" />

  <meta property="og:title" content="9 Software | SPEAQeasy" />
  <meta property="og:type" content="book" />
  
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="9 Software | SPEAQeasy" />
  
  
  




  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="configuration.html"/>
<link rel="next" href="help.html"/>
<script src="libs/header-attrs-2.12/header-attrs.js"></script>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="index.html#overview">Overview<span></span></a>
<ul>
<li><a href="index.html#cite-speaqeasy">Cite <code>SPEAQeasy</code><span></span></a></li>
<li><a href="index.html#r-session-information">R session information<span></span></a></li>
</ul></li>
<li class="chapter" data-level="1" data-path="quick-start.html"><a href="quick-start.html"><i class="fa fa-check"></i><b>1</b> Quick Start<span></span></a>
<ul>
<li class="chapter" data-level="1.1" data-path="quick-start.html"><a href="quick-start.html#setup"><i class="fa fa-check"></i><b>1.1</b> Setup<span></span></a></li>
<li class="chapter" data-level="1.2" data-path="quick-start.html"><a href="quick-start.html#quick-config"><i class="fa fa-check"></i><b>1.2</b> Configuration<span></span></a>
<ul>
<li class="chapter" data-level="1.2.1" data-path="quick-start.html"><a href="quick-start.html#your-main-script"><i class="fa fa-check"></i><b>1.2.1</b> Your “main” script<span></span></a></li>
<li class="chapter" data-level="1.2.2" data-path="quick-start.html"><a href="quick-start.html#your-config-file"><i class="fa fa-check"></i><b>1.2.2</b> Your config file<span></span></a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="2" data-path="setup-details.html"><a href="setup-details.html"><i class="fa fa-check"></i><b>2</b> Setup Details<span></span></a>
<ul>
<li class="chapter" data-level="2.1" data-path="setup-details.html"><a href="setup-details.html#requirements"><i class="fa fa-check"></i><b>2.1</b> Requirements<span></span></a></li>
<li class="chapter" data-level="2.2" data-path="setup-details.html"><a href="setup-details.html#installation"><i class="fa fa-check"></i><b>2.2</b> Installation<span></span></a>
<ul>
<li class="chapter" data-level="2.2.1" data-path="setup-details.html"><a href="setup-details.html#troubleshooting"><i class="fa fa-check"></i><b>2.2.1</b> Troubleshooting<span></span></a></li>
</ul></li>
<li class="chapter" data-level="2.3" data-path="setup-details.html"><a href="setup-details.html#run-the-pipeline"><i class="fa fa-check"></i><b>2.3</b> Run the Pipeline<span></span></a>
<ul>
<li class="chapter" data-level="2.3.1" data-path="setup-details.html"><a href="setup-details.html#run-in-a-slurm-environment-cluster"><i class="fa fa-check"></i><b>2.3.1</b> Run in a SLURM environment/ cluster<span></span></a></li>
<li class="chapter" data-level="2.3.2" data-path="setup-details.html"><a href="setup-details.html#run-on-a-sun-grid-engines-sge-cluster"><i class="fa fa-check"></i><b>2.3.2</b> Run on a Sun Grid Engines (SGE) cluster<span></span></a></li>
<li class="chapter" data-level="2.3.3" data-path="setup-details.html"><a href="setup-details.html#run-locally"><i class="fa fa-check"></i><b>2.3.3</b> Run locally<span></span></a></li>
<li class="chapter" data-level="2.3.4" data-path="setup-details.html"><a href="setup-details.html#run-on-the-jhpce-cluster"><i class="fa fa-check"></i><b>2.3.4</b> Run on the <span>JHPCE</span> cluster<span></span></a></li>
<li class="chapter" data-level="2.3.5" data-path="setup-details.html"><a href="setup-details.html#example-main-script"><i class="fa fa-check"></i><b>2.3.5</b> Example main script<span></span></a></li>
<li class="chapter" data-level="2.3.6" data-path="setup-details.html"><a href="setup-details.html#advanced-info-regarding-installation"><i class="fa fa-check"></i><b>2.3.6</b> Advanced info regarding installation<span></span></a></li>
</ul></li>
<li class="chapter" data-level="2.4" data-path="setup-details.html"><a href="setup-details.html#sharing"><i class="fa fa-check"></i><b>2.4</b> Sharing the pipeline with many users<span></span></a>
<ul>
<li class="chapter" data-level="2.4.1" data-path="setup-details.html"><a href="setup-details.html#customizing-execution-for-each-user"><i class="fa fa-check"></i><b>2.4.1</b> Customizing execution for each user<span></span></a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="command-opts.html"><a href="command-opts.html"><i class="fa fa-check"></i><b>3</b> All Command Options<span></span></a>
<ul>
<li class="chapter" data-level="3.1" data-path="command-opts.html"><a href="command-opts.html#speaqeasy-options"><i class="fa fa-check"></i><b>3.1</b> SPEAQeasy Options<span></span></a>
<ul>
<li class="chapter" data-level="3.1.1" data-path="command-opts.html"><a href="command-opts.html#mandatory-parameters"><i class="fa fa-check"></i><b>3.1.1</b> Mandatory Parameters<span></span></a></li>
<li class="chapter" data-level="3.1.2" data-path="command-opts.html"><a href="command-opts.html#optional-parameters"><i class="fa fa-check"></i><b>3.1.2</b> Optional Parameters<span></span></a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="command-opts.html"><a href="command-opts.html#next-opts"><i class="fa fa-check"></i><b>3.2</b> Nextflow Options<span></span></a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="pipeline-overview.html"><a href="pipeline-overview.html"><i class="fa fa-check"></i><b>4</b> Pipeline Overview<span></span></a>
<ul>
<li class="chapter" data-level="4.1" data-path="pipeline-overview.html"><a href="pipeline-overview.html#preparation-steps"><i class="fa fa-check"></i><b>4.1</b> Preparation Steps<span></span></a>
<ul>
<li class="chapter" data-level="4.1.1" data-path="pipeline-overview.html"><a href="pipeline-overview.html#downloading-required-annotation-files"><i class="fa fa-check"></i><b>4.1.1</b> Downloading required annotation files<span></span></a></li>
<li class="chapter" data-level="4.1.2" data-path="pipeline-overview.html"><a href="pipeline-overview.html#preparing-annotation-files-for-direct-use"><i class="fa fa-check"></i><b>4.1.2</b> Preparing annotation files for direct use<span></span></a></li>
</ul></li>
<li class="chapter" data-level="4.2" data-path="pipeline-overview.html"><a href="pipeline-overview.html#main-workflow-steps"><i class="fa fa-check"></i><b>4.2</b> Main Workflow Steps<span></span></a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="annotation.html"><a href="annotation.html"><i class="fa fa-check"></i><b>5</b> Annotation<span></span></a>
<ul>
<li class="chapter" data-level="5.1" data-path="annotation.html"><a href="annotation.html#default-annotation"><i class="fa fa-check"></i><b>5.1</b> Default Annotation<span></span></a>
<ul>
<li class="chapter" data-level="5.1.1" data-path="annotation.html"><a href="annotation.html#choosing-a-release"><i class="fa fa-check"></i><b>5.1.1</b> Choosing a release<span></span></a></li>
<li class="chapter" data-level="5.1.2" data-path="annotation.html"><a href="annotation.html#choosing-a-build"><i class="fa fa-check"></i><b>5.1.2</b> Choosing a “build”<span></span></a></li>
<li class="chapter" data-level="5.1.3" data-path="annotation.html"><a href="annotation.html#additional-annotation-files"><i class="fa fa-check"></i><b>5.1.3</b> Additional Annotation files<span></span></a></li>
</ul></li>
<li class="chapter" data-level="5.2" data-path="annotation.html"><a href="annotation.html#custom-annotation"><i class="fa fa-check"></i><b>5.2</b> Custom Annotation<span></span></a>
<ul>
<li class="chapter" data-level="5.2.1" data-path="annotation.html"><a href="annotation.html#optional-files-to-include-depending-on-your-use-case"><i class="fa fa-check"></i><b>5.2.1</b> Optional files to include depending on your use-case<span></span></a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="6" data-path="manifest.html"><a href="manifest.html"><i class="fa fa-check"></i><b>6</b> Manifest and Inputs<span></span></a>
<ul>
<li class="chapter" data-level="6.1" data-path="manifest.html"><a href="manifest.html#what-the-manifest-should-look-like"><i class="fa fa-check"></i><b>6.1</b> What the Manifest Should Look Like<span></span></a>
<ul>
<li class="chapter" data-level="6.1.1" data-path="manifest.html"><a href="manifest.html#more-details-regarding-inputs"><i class="fa fa-check"></i><b>6.1.1</b> More details regarding inputs<span></span></a></li>
</ul></li>
<li class="chapter" data-level="6.2" data-path="manifest.html"><a href="manifest.html#creating-a-manifest-file"><i class="fa fa-check"></i><b>6.2</b> Creating a manifest file<span></span></a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="outputs.html"><a href="outputs.html"><i class="fa fa-check"></i><b>7</b> Pipeline Outputs<span></span></a>
<ul>
<li class="chapter" data-level="7.1" data-path="outputs.html"><a href="outputs.html#main-outputs"><i class="fa fa-check"></i><b>7.1</b> Main Outputs<span></span></a>
<ul>
<li class="chapter" data-level="7.1.1" data-path="outputs.html"><a href="outputs.html#rowranges-of-rse-objects"><i class="fa fa-check"></i><b>7.1.1</b> <code>rowRanges</code> of RSE objects<span></span></a></li>
<li class="chapter" data-level="7.1.2" data-path="outputs.html"><a href="outputs.html#coldata-of-rse-objects"><i class="fa fa-check"></i><b>7.1.2</b> <code>colData</code> of RSE objects<span></span></a></li>
<li class="chapter" data-level="7.1.3" data-path="outputs.html"><a href="outputs.html#quality-metrics"><i class="fa fa-check"></i><b>7.1.3</b> Quality Metrics<span></span></a></li>
</ul></li>
<li class="chapter" data-level="7.2" data-path="outputs.html"><a href="outputs.html#intermediary-outputs"><i class="fa fa-check"></i><b>7.2</b> Intermediary Outputs<span></span></a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="configuration.html"><a href="configuration.html"><i class="fa fa-check"></i><b>8</b> Configuration<span></span></a>
<ul>
<li class="chapter" data-level="8.1" data-path="configuration.html"><a href="configuration.html#specifying-options-for-your-cluster"><i class="fa fa-check"></i><b>8.1</b> Specifying Options for your Cluster<span></span></a>
<ul>
<li class="chapter" data-level="8.1.1" data-path="configuration.html"><a href="configuration.html#time"><i class="fa fa-check"></i><b>8.1.1</b> Time<span></span></a></li>
<li class="chapter" data-level="8.1.2" data-path="configuration.html"><a href="configuration.html#cluster-specific-options"><i class="fa fa-check"></i><b>8.1.2</b> Cluster-specific options<span></span></a></li>
</ul></li>
<li class="chapter" data-level="8.2" data-path="configuration.html"><a href="configuration.html#speaqeasy-parameters"><i class="fa fa-check"></i><b>8.2</b> SPEAQeasy Parameters<span></span></a>
<ul>
<li class="chapter" data-level="8.2.1" data-path="configuration.html"><a href="configuration.html#annotation-settings"><i class="fa fa-check"></i><b>8.2.1</b> Annotation settings<span></span></a></li>
<li class="chapter" data-level="8.2.2" data-path="configuration.html"><a href="configuration.html#software-settings"><i class="fa fa-check"></i><b>8.2.2</b> Software settings<span></span></a></li>
<li class="chapter" data-level="8.2.3" data-path="configuration.html"><a href="configuration.html#miscellaneous-settings"><i class="fa fa-check"></i><b>8.2.3</b> Miscellaneous settings<span></span></a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="9" data-path="software.html"><a href="software.html"><i class="fa fa-check"></i><b>9</b> Software<span></span></a>
<ul>
<li class="chapter" data-level="9.1" data-path="software.html"><a href="software.html#software-versions"><i class="fa fa-check"></i><b>9.1</b> Software Versions<span></span></a></li>
<li class="chapter" data-level="9.2" data-path="software.html"><a href="software.html#docker-images"><i class="fa fa-check"></i><b>9.2</b> Docker Images<span></span></a></li>
<li class="chapter" data-level="9.3" data-path="software.html"><a href="software.html#using-custom-software"><i class="fa fa-check"></i><b>9.3</b> Using Custom Software<span></span></a>
<ul>
<li class="chapter" data-level="9.3.1" data-path="software.html"><a href="software.html#prerequisites"><i class="fa fa-check"></i><b>9.3.1</b> Prerequisites<span></span></a></li>
<li class="chapter" data-level="9.3.2" data-path="software.html"><a href="software.html#modifying-main.nf"><i class="fa fa-check"></i><b>9.3.2</b> Modifying <code>main.nf</code><span></span></a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="10" data-path="help.html"><a href="help.html"><i class="fa fa-check"></i><b>10</b> Help<span></span></a>
<ul>
<li class="chapter" data-level="10.1" data-path="help.html"><a href="help.html#common-errors"><i class="fa fa-check"></i><b>10.1</b> Common Errors<span></span></a></li>
<li class="chapter" data-level="10.2" data-path="help.html"><a href="help.html#deeper-investigation"><i class="fa fa-check"></i><b>10.2</b> Deeper Investigation<span></span></a>
<ul>
<li class="chapter" data-level="10.2.1" data-path="help.html"><a href="help.html#checking-per-sample-logs"><i class="fa fa-check"></i><b>10.2.1</b> Checking Per-Sample Logs<span></span></a></li>
</ul></li>
<li class="chapter" data-level="10.3" data-path="help.html"><a href="help.html#resuming"><i class="fa fa-check"></i><b>10.3</b> Resuming<span></span></a>
<ul>
<li class="chapter" data-level="10.3.1" data-path="help.html"><a href="help.html#trouble-resuming"><i class="fa fa-check"></i><b>10.3.1</b> Trouble resuming?<span></span></a></li>
</ul></li>
<li class="chapter" data-level="10.4" data-path="help.html"><a href="help.html#no-internet-access"><i class="fa fa-check"></i><b>10.4</b> No Internet Access?<span></span></a></li>
<li class="chapter" data-level="10.5" data-path="help.html"><a href="help.html#docker-help"><i class="fa fa-check"></i><b>10.5</b> Docker help<span></span></a></li>
</ul></li>
<li class="chapter" data-level="11" data-path="glossary.html"><a href="glossary.html"><i class="fa fa-check"></i><b>11</b> Glossary<span></span></a></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">SPEAQeasy</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="software" class="section level1 hasAnchor" number="9">
<h1><span class="header-section-number">9</span> Software<a href="software.html#software" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<p>SPEAQeasy makes use of several external bioinformatics software tools. The pipeline additionally supports the use of these tools via docker containers- this section also documents the docker images used in this mode.</p>
<div id="software-versions" class="section level2 hasAnchor" number="9.1">
<h2><span class="header-section-number">9.1</span> Software Versions<a href="software.html#software-versions" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Here is the full list of software used by this pipeline:</p>
<table>
<colgroup>
<col width="55%" />
<col width="22%" />
<col width="22%" />
</colgroup>
<thead>
<tr class="header">
<th align="center">Software</th>
<th align="right">Version</th>
<th align="right">Command used by the pipeline</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="center"><a href="http://www.htslib.org/download/">bcftools</a></td>
<td align="right">1.10.2</td>
<td align="right"><code>bcftools</code></td>
</tr>
<tr class="even">
<td align="center"><a href="http://www.bioinformatics.babraham.ac.uk/projects/fastqc">fastQC</a></td>
<td align="right">0.11.8</td>
<td align="right"><code>fastqc</code></td>
</tr>
<tr class="odd">
<td align="center"><a href="https://ccb.jhu.edu/software/hisat2/manual.shtml#obtaining-hisat2">hisat2</a></td>
<td align="right">2.2.1</td>
<td align="right"><code>hisat2</code>, <code>hisat2-build</code></td>
</tr>
<tr class="even">
<td align="center"><a href="http://www.htslib.org/download/">htslib</a></td>
<td align="right">1.10.2</td>
<td align="right"><code>tabix</code></td>
</tr>
<tr class="odd">
<td align="center"><a href="http://www.oracle.com/technetwork/java/javase/downloads/index.html">java</a></td>
<td align="right">8+</td>
<td align="right"><code>java</code></td>
</tr>
<tr class="even">
<td align="center"><a href="https://pachterlab.github.io/kallisto/source">kallisto</a></td>
<td align="right">0.46.1</td>
<td align="right"><code>kallisto</code></td>
</tr>
<tr class="odd">
<td align="center"><a href="https://www.nextflow.io/docs/latest/getstarted.html">nextflow</a></td>
<td align="right">&gt;=0.27.0 (tested with 20.01.0)</td>
<td align="right"><code>nextflow</code></td>
</tr>
<tr class="even">
<td align="center"><a href="https://cran.r-project.org/bin/linux/ubuntu/README.html#installation">R</a></td>
<td align="right">4.1.2</td>
<td align="right"><code>Rscript</code></td>
</tr>
<tr class="odd">
<td align="center"><a href="https://github.com/griffithlab/regtools#installation">regtools</a></td>
<td align="right">0.5.33g (<code>gpertea</code> fork)</td>
<td align="right"><code>regtools</code></td>
</tr>
<tr class="even">
<td align="center"><a href="http://rseqc.sourceforge.net/#installation">RSeQC</a></td>
<td align="right">3.0.1</td>
<td align="right"><code>bam2wig.py</code></td>
</tr>
<tr class="odd">
<td align="center"><a href="http://salmon.readthedocs.io/en/latest/building.html">salmon</a></td>
<td align="right">1.2.1</td>
<td align="right"><code>salmon</code></td>
</tr>
<tr class="even">
<td align="center"><a href="http://www.htslib.org/download/">samtools</a></td>
<td align="right">1.10</td>
<td align="right"><code>samtools</code></td>
</tr>
<tr class="odd">
<td align="center"><a href="http://bioinf.wehi.edu.au/subread-package/">SubRead</a></td>
<td align="right">2.0.0</td>
<td align="right"><code>featureCounts</code></td>
</tr>
<tr class="even">
<td align="center"><a href="http://www.usadellab.org/cms/?page=trimmomatic">trimmomatic</a></td>
<td align="right">0.39</td>
<td align="right"><code>java -jar path/to/trimmomatic.jar</code></td>
</tr>
<tr class="odd">
<td align="center"><a href="https://github.com/Ensembl/WiggleTools">wiggletools</a></td>
<td align="right">1.2.1</td>
<td align="right"><code>wiggletools</code></td>
</tr>
<tr class="even">
<td align="center"><a href="http://hgdownload.cse.ucsc.edu/admin/exe/linux.x86_64/">wigToBigWig</a></td>
<td align="right">4</td>
<td align="right"><code>wigToBigWig</code></td>
</tr>
</tbody>
</table>
</div>
<div id="docker-images" class="section level2 hasAnchor" number="9.2">
<h2><span class="header-section-number">9.2</span> Docker Images<a href="software.html#docker-images" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>The following docker image versions are used in this pipeline, when it is installed via the “docker” or “singularity” <a href="setup-details.html#installation">installation</a> modes. These images are automatically managed by SPEAQeasy.</p>
<table>
<colgroup>
<col width="55%" />
<col width="22%" />
<col width="22%" />
</colgroup>
<thead>
<tr class="header">
<th align="center">Image</th>
<th align="right">Tag</th>
<th align="right">Software</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="center">libddocker/bioc_kallisto</td>
<td align="right">3.14</td>
<td align="right">R 4.1.2, Bioconductor 3.14, and Kallisto 0.46.1</td>
</tr>
<tr class="even">
<td align="center">libddocker/ubuntu16.04_base</td>
<td align="right">1_v3</td>
<td align="right">Ubuntu Base</td>
</tr>
<tr class="odd">
<td align="center">libddocker/kallisto</td>
<td align="right">0.46.1</td>
<td align="right">Kallisto</td>
</tr>
<tr class="even">
<td align="center">libddocker/fastqc</td>
<td align="right">0.11.8</td>
<td align="right">FastQC</td>
</tr>
<tr class="odd">
<td align="center">libddocker/trimmomatic</td>
<td align="right">0.39</td>
<td align="right">Trimmomatic</td>
</tr>
<tr class="even">
<td align="center">libddocker/hisat2</td>
<td align="right">2.2.1</td>
<td align="right">HISAT2</td>
</tr>
<tr class="odd">
<td align="center">libddocker/rseqc</td>
<td align="right">3.0.1</td>
<td align="right">RSeQC</td>
</tr>
<tr class="even">
<td align="center">libddocker/samtools</td>
<td align="right">1.10</td>
<td align="right">Samtools</td>
</tr>
<tr class="odd">
<td align="center">libddocker/salmon</td>
<td align="right">1.2.1</td>
<td align="right">Salmon</td>
</tr>
<tr class="even">
<td align="center">libddocker/regtools</td>
<td align="right">0.5.33g</td>
<td align="right">Regtools (<code>gpertea</code> fork)</td>
</tr>
<tr class="odd">
<td align="center">libddocker/subread</td>
<td align="right">2.0.0</td>
<td align="right">SubRead/FeatureCounts</td>
</tr>
<tr class="even">
<td align="center">libddocker/wiggletools-1.2</td>
<td align="right">1_v3</td>
<td align="right">Wiggletools</td>
</tr>
<tr class="odd">
<td align="center">libddocker/variant_calling</td>
<td align="right">1.10.2</td>
<td align="right">Samtools, BCFTools</td>
</tr>
</tbody>
</table>
</div>
<div id="using-custom-software" class="section level2 hasAnchor" number="9.3">
<h2><span class="header-section-number">9.3</span> Using Custom Software<a href="software.html#using-custom-software" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Some users may wish to desire to “swap out” software tools used by particular steps in the pipeline. For example, a researcher may wish to use <a href="https://www.bioinformatics.babraham.ac.uk/projects/trim_galore/">Trim Galore!</a> instead of <a href="http://www.usadellab.org/cms/?page=trimmomatic">Trimmomatic</a> when trimming samples. SPEAQeasy doesn’t “officially support” Trim Galore currently, so this will require making some direct changes to code. We provide a guide below for researchers interested in modifying a component of SPEAQeasy to use a different software tool. Please note that a couple software alternatives are already supported (Salmon instead of Kallisto for psuedoalignment to a transcriptome via the <code>--use_salmon</code> <a href="command-opts.html#command-opts">option</a>; STAR instead of HISAT2 for alignment to a genome via the <code>--use_star</code> <a href="command-opts.html#command-opts">option</a>), and using these does not require any of the work described below. Additionally, the below guide requires “local” {installation](#installation) of SPEAQeasy (not using docker/singularity to manage software).</p>
<div id="prerequisites" class="section level3 hasAnchor" number="9.3.1">
<h3><span class="header-section-number">9.3.1</span> Prerequisites<a href="software.html#prerequisites" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<ul>
<li>familiarity with basic <a href="https://en.wikipedia.org/wiki/Glob_(programming)">glob expressions</a></li>
<li>familiarity with basic shell scripting (if-statements, variables, and the <code>mv</code> command)</li>
<li>knowledge about what output files are created from both the original and replacement software tool</li>
<li><a href="pipeline-overview.html#pipeline-overview">basic knowledge of the SPEAQeasy workflow</a></li>
<li>the replacement software tool should be on the PATH</li>
</ul>
</div>
<div id="modifying-main.nf" class="section level3 hasAnchor" number="9.3.2">
<h3><span class="header-section-number">9.3.2</span> Modifying <code>main.nf</code><a href="software.html#modifying-main.nf" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div id="replace-the-relevant-command" class="section level4 hasAnchor" number="9.3.2.1">
<h4><span class="header-section-number">9.3.2.1</span> Replace the relevant command<a href="software.html#replace-the-relevant-command" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>We will begin by locating the relevant <a href="https://www.nextflow.io/docs/latest/process.html">process</a> in the file <code>main.nf</code>. While process names are intended to be intuitive, this step may require some inference. We are modifying the way SPEAQeasy trims files, so the process of interest is called “Trimming”, and we locate this around line 883 (the exact number may change).</p>
<div class="sourceCode" id="cb24"><pre class="sourceCode groovy"><code class="sourceCode groovy"><span id="cb24-1"><a href="software.html#cb24-1" aria-hidden="true" tabindex="-1"></a>process Trimming <span class="op">{</span></span></code></pre></div>
<p>Next, we try to locate the command that runs the current software tool, Trimmomatic. Typically, there will only be a single command (possibly formatted to be spread across multiple lines for clarity). We look for this command in the section of the <code>shell</code> block of the process, enclosed in triple single-quotes. The below “template” version of the <code>Trimming</code> process may serve as a guide for where to look. Code that we can safely ignore has been replaced with brief comments.</p>
<div class="sourceCode" id="cb25"><pre class="sourceCode groovy"><code class="sourceCode groovy"><span id="cb25-1"><a href="software.html#cb25-1" aria-hidden="true" tabindex="-1"></a>process Trimming <span class="op">{</span></span>
<span id="cb25-2"><a href="software.html#cb25-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-3"><a href="software.html#cb25-3" aria-hidden="true" tabindex="-1"></a>    <span class="co">// [Some initial details]</span></span>
<span id="cb25-4"><a href="software.html#cb25-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-5"><a href="software.html#cb25-5" aria-hidden="true" tabindex="-1"></a>    input<span class="op">:</span></span>
<span id="cb25-6"><a href="software.html#cb25-6" aria-hidden="true" tabindex="-1"></a>        <span class="co">// [Nextflow channel for input files]</span></span>
<span id="cb25-7"><a href="software.html#cb25-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-8"><a href="software.html#cb25-8" aria-hidden="true" tabindex="-1"></a>    output<span class="op">:</span></span>
<span id="cb25-9"><a href="software.html#cb25-9" aria-hidden="true" tabindex="-1"></a>        <span class="co">// [Nextflow channel for output files]</span></span>
<span id="cb25-10"><a href="software.html#cb25-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-11"><a href="software.html#cb25-11" aria-hidden="true" tabindex="-1"></a>    shell<span class="op">:</span></span>
<span id="cb25-12"><a href="software.html#cb25-12" aria-hidden="true" tabindex="-1"></a>        <span class="co">// [Some code to set arguments to Trimmomatic]</span></span>
<span id="cb25-13"><a href="software.html#cb25-13" aria-hidden="true" tabindex="-1"></a>        <span class="st">&#39;&#39;&#39;</span></span>
<span id="cb25-14"><a href="software.html#cb25-14" aria-hidden="true" tabindex="-1"></a><span class="st">        # [Code to determine whether to trim this sample]</span></span>
<span id="cb25-15"><a href="software.html#cb25-15" aria-hidden="true" tabindex="-1"></a><span class="st">        </span></span>
<span id="cb25-16"><a href="software.html#cb25-16" aria-hidden="true" tabindex="-1"></a><span class="st">        #  Run trimming if required</span></span>
<span id="cb25-17"><a href="software.html#cb25-17" aria-hidden="true" tabindex="-1"></a><span class="st">        if [ &quot;$do_trim&quot; == true ]; then</span></span>
<span id="cb25-18"><a href="software.html#cb25-18" aria-hidden="true" tabindex="-1"></a><span class="st">            # [Set up some variables to pass to the Trimmomatic command]</span></span>
<span id="cb25-19"><a href="software.html#cb25-19" aria-hidden="true" tabindex="-1"></a><span class="st">            </span></span>
<span id="cb25-20"><a href="software.html#cb25-20" aria-hidden="true" tabindex="-1"></a><span class="st">            java -Xmx512M </span><span class="er">\</span></span>
<span id="cb25-21"><a href="software.html#cb25-21" aria-hidden="true" tabindex="-1"></a><span class="st">                -jar $trim_jar </span><span class="er">\</span></span>
<span id="cb25-22"><a href="software.html#cb25-22" aria-hidden="true" tabindex="-1"></a><span class="st">                !{trim_mode} </span><span class="er">\</span></span>
<span id="cb25-23"><a href="software.html#cb25-23" aria-hidden="true" tabindex="-1"></a><span class="st">                -threads !{task.cpus} </span><span class="er">\</span></span>
<span id="cb25-24"><a href="software.html#cb25-24" aria-hidden="true" tabindex="-1"></a><span class="st">                -phred33 </span><span class="er">\</span></span>
<span id="cb25-25"><a href="software.html#cb25-25" aria-hidden="true" tabindex="-1"></a><span class="st">                *.f*q* </span><span class="er">\</span></span>
<span id="cb25-26"><a href="software.html#cb25-26" aria-hidden="true" tabindex="-1"></a><span class="st">                !{output_option} </span><span class="er">\</span></span>
<span id="cb25-27"><a href="software.html#cb25-27" aria-hidden="true" tabindex="-1"></a><span class="st">                $adapter_trim_settings </span><span class="er">\</span></span>
<span id="cb25-28"><a href="software.html#cb25-28" aria-hidden="true" tabindex="-1"></a><span class="st">                !{params.trim_quality_args}</span></span>
<span id="cb25-29"><a href="software.html#cb25-29" aria-hidden="true" tabindex="-1"></a><span class="st">        else</span></span>
<span id="cb25-30"><a href="software.html#cb25-30" aria-hidden="true" tabindex="-1"></a><span class="st">            # [Rename files if this sample wasn&#39;t trimmed]</span></span>
<span id="cb25-31"><a href="software.html#cb25-31" aria-hidden="true" tabindex="-1"></a><span class="st">        fi</span></span>
<span id="cb25-32"><a href="software.html#cb25-32" aria-hidden="true" tabindex="-1"></a><span class="st">        </span></span>
<span id="cb25-33"><a href="software.html#cb25-33" aria-hidden="true" tabindex="-1"></a><span class="st">        #  Write any output to a log</span></span>
<span id="cb25-34"><a href="software.html#cb25-34" aria-hidden="true" tabindex="-1"></a><span class="st">        cp .command.log trimming_!{fq_prefix}.log</span></span>
<span id="cb25-35"><a href="software.html#cb25-35" aria-hidden="true" tabindex="-1"></a><span class="st">        </span></span>
<span id="cb25-36"><a href="software.html#cb25-36" aria-hidden="true" tabindex="-1"></a><span class="st">        # [Pass some details to the SPEAQeasy-specific logs]</span></span>
<span id="cb25-37"><a href="software.html#cb25-37" aria-hidden="true" tabindex="-1"></a><span class="st">        &#39;&#39;&#39;</span></span>
<span id="cb25-38"><a href="software.html#cb25-38" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<p>In the <code>Trimming</code> process, there is a quite a bit of bash code used to conditionally trim samples depending on the <code>--trim_mode</code> <a href="command-opts.html#command-opts">argument</a> and FastQC results. We can keep most of this bash code exactly how it is. From above, the command to run Trimmomatic looks like this:</p>
<div class="sourceCode" id="cb26"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb26-1"><a href="software.html#cb26-1" aria-hidden="true" tabindex="-1"></a><span class="ex">java</span> <span class="at">-Xmx512M</span> <span class="dt">\</span></span>
<span id="cb26-2"><a href="software.html#cb26-2" aria-hidden="true" tabindex="-1"></a>    <span class="at">-jar</span> <span class="va">$trim_jar</span> <span class="dt">\</span></span>
<span id="cb26-3"><a href="software.html#cb26-3" aria-hidden="true" tabindex="-1"></a>    !{trim_mode} <span class="dt">\</span></span>
<span id="cb26-4"><a href="software.html#cb26-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">-threads</span> !{task.cpus} <span class="dt">\</span></span>
<span id="cb26-5"><a href="software.html#cb26-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">-phred33</span> <span class="dt">\</span></span>
<span id="cb26-6"><a href="software.html#cb26-6" aria-hidden="true" tabindex="-1"></a>    <span class="pp">*</span>.f<span class="pp">*</span>q<span class="pp">*</span> <span class="dt">\</span></span>
<span id="cb26-7"><a href="software.html#cb26-7" aria-hidden="true" tabindex="-1"></a>    !{output_option} <span class="dt">\</span></span>
<span id="cb26-8"><a href="software.html#cb26-8" aria-hidden="true" tabindex="-1"></a>    <span class="va">$adapter_trim_settings</span> <span class="dt">\</span></span>
<span id="cb26-9"><a href="software.html#cb26-9" aria-hidden="true" tabindex="-1"></a>    !{params.trim_quality_args}</span></code></pre></div>
<p>We will replace this code with something similar, but appropriate for Trim Galore. In general and vague terms, we want the replacement to look like this (brackets are used in place of the actual code or variable name to be implemented):</p>
<div class="sourceCode" id="cb27"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb27-1"><a href="software.html#cb27-1" aria-hidden="true" tabindex="-1"></a><span class="ex">[tool_name]</span> [desired arguments] <span class="dt">\</span></span>
<span id="cb27-2"><a href="software.html#cb27-2" aria-hidden="true" tabindex="-1"></a>    <span class="at">--[core</span> or thread argument] !{task.cpus} <span class="dt">\</span></span>
<span id="cb27-3"><a href="software.html#cb27-3" aria-hidden="true" tabindex="-1"></a>    [input files]</span></code></pre></div>
<p>For our particular case, the exact code can look like the segment below. Here we identify that the option controlling number of cores to use is <code>-j</code> and the input FASTQ files can be passed the same way as to Trimmomatic, via the <code>*.f*q*</code> glob. Additionally, Trim Galore requires that a sample should be explicitly specified as paired-end. We grab the value of the <code>--sample</code> <a href="command-opts.html#command-opts">argument</a> with the syntax <code>!{params.sample}</code> (any option passed to SPEAQeasy can be referenced this way!), and use some bash code to conditionally add the <code>--paired</code> and <code>--retain_unpaired</code> arguments to Trim Galore (we will later cover why the latter is added).</p>
<div class="sourceCode" id="cb28"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb28-1"><a href="software.html#cb28-1" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> <span class="bu">[</span> <span class="st">&quot;!{params.sample}&quot;</span> <span class="ot">==</span> <span class="st">&quot;paired&quot;</span> <span class="bu">]</span><span class="kw">;</span> <span class="cf">then</span></span>
<span id="cb28-2"><a href="software.html#cb28-2" aria-hidden="true" tabindex="-1"></a>    <span class="va">paired_opt</span><span class="op">=</span><span class="st">&quot;--paired --retain_unpaired&quot;</span></span>
<span id="cb28-3"><a href="software.html#cb28-3" aria-hidden="true" tabindex="-1"></a><span class="cf">else</span></span>
<span id="cb28-4"><a href="software.html#cb28-4" aria-hidden="true" tabindex="-1"></a>    <span class="va">paired_opt</span><span class="op">=</span><span class="st">&quot;&quot;</span></span>
<span id="cb28-5"><a href="software.html#cb28-5" aria-hidden="true" tabindex="-1"></a><span class="cf">fi</span></span>
<span id="cb28-6"><a href="software.html#cb28-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-7"><a href="software.html#cb28-7" aria-hidden="true" tabindex="-1"></a><span class="ex">trim_galore</span> <span class="dt">\</span></span>
<span id="cb28-8"><a href="software.html#cb28-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">-j</span> !{task.cpus} <span class="dt">\</span></span>
<span id="cb28-9"><a href="software.html#cb28-9" aria-hidden="true" tabindex="-1"></a>    <span class="va">${paired_opt}</span> <span class="dt">\</span></span>
<span id="cb28-10"><a href="software.html#cb28-10" aria-hidden="true" tabindex="-1"></a>    <span class="pp">*</span>.f<span class="pp">*</span>q<span class="pp">*</span></span></code></pre></div>
</div>
<div id="rename-output-files" class="section level4 hasAnchor" number="9.3.2.2">
<h4><span class="header-section-number">9.3.2.2</span> Rename output files<a href="software.html#rename-output-files" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>Next, the goal is to rename files to match the names of the original outputs (in our case, those from Trimmomatic). This obviates the need for worrying about managing nextflow channels, and which files should be “published” to the output directory. In this case, SPEAQeasy specifies a particular output file naming style when using Trimmomatic. We can determine the naming rules from the below code (in particular, note that <code>output_option</code> variable):</p>
<div class="sourceCode" id="cb29"><pre class="sourceCode groovy"><code class="sourceCode groovy"><span id="cb29-1"><a href="software.html#cb29-1" aria-hidden="true" tabindex="-1"></a>shell<span class="op">:</span></span>
<span id="cb29-2"><a href="software.html#cb29-2" aria-hidden="true" tabindex="-1"></a>    file_ext <span class="op">=</span> <span class="fu">get_file_ext</span><span class="op">(</span>fq_file<span class="op">[</span><span class="dv">0</span><span class="op">])</span></span>
<span id="cb29-3"><a href="software.html#cb29-3" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> <span class="op">(</span>params<span class="op">.</span>sample <span class="op">==</span> <span class="st">&quot;single&quot;</span><span class="op">)</span> <span class="op">{</span></span>
<span id="cb29-4"><a href="software.html#cb29-4" aria-hidden="true" tabindex="-1"></a>        output_option <span class="op">=</span> <span class="st">&quot;</span><span class="ss">${</span>fq_prefix<span class="ss">}</span><span class="st">_trimmed.fastq&quot;</span></span>
<span id="cb29-5"><a href="software.html#cb29-5" aria-hidden="true" tabindex="-1"></a>        trim_mode <span class="op">=</span> <span class="st">&quot;SE&quot;</span></span>
<span id="cb29-6"><a href="software.html#cb29-6" aria-hidden="true" tabindex="-1"></a>        adapter_fa_temp <span class="op">=</span> params<span class="op">.</span>adapter_fasta_single</span>
<span id="cb29-7"><a href="software.html#cb29-7" aria-hidden="true" tabindex="-1"></a>        trim_clip <span class="op">=</span> params<span class="op">.</span>trim_adapter_args_single</span>
<span id="cb29-8"><a href="software.html#cb29-8" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span> <span class="cf">else</span> <span class="op">{</span></span>
<span id="cb29-9"><a href="software.html#cb29-9" aria-hidden="true" tabindex="-1"></a>        output_option <span class="op">=</span> <span class="st">&quot;</span><span class="ss">${</span>fq_prefix<span class="ss">}</span><span class="st">_trimmed_paired_1.fastq </span><span class="ss">${</span>fq_prefix<span class="ss">}</span><span class="st">_unpaired_1.fastq </span><span class="ss">${</span>fq_prefix<span class="ss">}</span><span class="st">_trimmed_paired_2.fastq </span><span class="ss">${</span>fq_prefix<span class="ss">}</span><span class="st">_unpaired_2.fastq&quot;</span></span>
<span id="cb29-10"><a href="software.html#cb29-10" aria-hidden="true" tabindex="-1"></a>        trim_mode <span class="op">=</span> <span class="st">&quot;PE&quot;</span></span>
<span id="cb29-11"><a href="software.html#cb29-11" aria-hidden="true" tabindex="-1"></a>        adapter_fa_temp <span class="op">=</span> params<span class="op">.</span>adapter_fasta_paired</span>
<span id="cb29-12"><a href="software.html#cb29-12" aria-hidden="true" tabindex="-1"></a>        trim_clip <span class="op">=</span> params<span class="op">.</span>trim_adapter_args_paired</span>
<span id="cb29-13"><a href="software.html#cb29-13" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span></code></pre></div>
<p>From the above code and the documentation for Trim Galore 0.6.5, we can construct a table of all output file names (where “[id]” is sample-specific):</p>
<table>
<colgroup>
<col width="15%" />
<col width="26%" />
<col width="57%" />
</colgroup>
<thead>
<tr class="header">
<th>Tool</th>
<th>Pairing</th>
<th>Output filename</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Trimmomatic</td>
<td>single</td>
<td>“[id]_trimmed.fastq”</td>
</tr>
<tr class="even">
<td>Trimmomatic</td>
<td>paired</td>
<td>“[id]_trimmed_paired_1.fastq”, “[id]_unpaired_1.fastq”, “[id]_trimmed_paired_2.fastq”, “[id]_unpaired_2.fastq”</td>
</tr>
<tr class="odd">
<td>Trim Galore</td>
<td>single</td>
<td>“[id]_trimmed.fq.gz”</td>
</tr>
<tr class="even">
<td>Trim Galore</td>
<td>paired</td>
<td>“[id]_1_val_1.fq.gz”, “[id]_1_unpaired_1.fq.gz”, “[id]_2_val_2.fq.gz”, “[id]_2_unpaired_2.fq.gz”</td>
</tr>
</tbody>
</table>
<p>We first note that Trim Galore gzips its outputs by default. To produce uncompressed files (matching Trimmomatic), we’ll add the <code>--dont_gzip</code> argument to the <code>trim_galore</code> command. Altogether, the code should like as below. In the <code>Trimming</code> process, the sample ID is given by <code>!{fq_prefix}</code>. The file renaming occurs in the final if-statement.</p>
<div class="sourceCode" id="cb30"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb30-1"><a href="software.html#cb30-1" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> <span class="bu">[</span> <span class="st">&quot;!{params.sample}&quot;</span> <span class="ot">==</span> <span class="st">&quot;paired&quot;</span> <span class="bu">]</span><span class="kw">;</span> <span class="cf">then</span></span>
<span id="cb30-2"><a href="software.html#cb30-2" aria-hidden="true" tabindex="-1"></a>    <span class="va">paired_opt</span><span class="op">=</span><span class="st">&quot;--paired --retain_unpaired&quot;</span></span>
<span id="cb30-3"><a href="software.html#cb30-3" aria-hidden="true" tabindex="-1"></a><span class="cf">else</span></span>
<span id="cb30-4"><a href="software.html#cb30-4" aria-hidden="true" tabindex="-1"></a>    <span class="va">paired_opt</span><span class="op">=</span><span class="st">&quot;&quot;</span></span>
<span id="cb30-5"><a href="software.html#cb30-5" aria-hidden="true" tabindex="-1"></a><span class="cf">fi</span></span>
<span id="cb30-6"><a href="software.html#cb30-6" aria-hidden="true" tabindex="-1"></a>            </span>
<span id="cb30-7"><a href="software.html#cb30-7" aria-hidden="true" tabindex="-1"></a><span class="ex">trim_galore</span> <span class="dt">\</span></span>
<span id="cb30-8"><a href="software.html#cb30-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">--dont_gzip</span> <span class="dt">\</span></span>
<span id="cb30-9"><a href="software.html#cb30-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">-j</span> !{task.cpus} <span class="dt">\</span></span>
<span id="cb30-10"><a href="software.html#cb30-10" aria-hidden="true" tabindex="-1"></a>    <span class="va">${paired_opt}</span> <span class="dt">\</span></span>
<span id="cb30-11"><a href="software.html#cb30-11" aria-hidden="true" tabindex="-1"></a>    <span class="pp">*</span>.f<span class="pp">*</span>q<span class="pp">*</span></span>
<span id="cb30-12"><a href="software.html#cb30-12" aria-hidden="true" tabindex="-1"></a>            </span>
<span id="cb30-13"><a href="software.html#cb30-13" aria-hidden="true" tabindex="-1"></a><span class="co">#  Rename files to imitate SPEAQeasy outputs from Trimmomatic</span></span>
<span id="cb30-14"><a href="software.html#cb30-14" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> <span class="bu">[</span> <span class="st">&quot;!{params.sample}&quot;</span> <span class="ot">==</span> <span class="st">&quot;paired&quot;</span> <span class="bu">]</span><span class="kw">;</span> <span class="cf">then</span></span>
<span id="cb30-15"><a href="software.html#cb30-15" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mv</span> !{fq_prefix}_1_val_1.fq !{fq_prefix}_trimmed_paired_1.fastq</span>
<span id="cb30-16"><a href="software.html#cb30-16" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mv</span> !{fq_prefix}_2_val_2.fq !{fq_prefix}_trimmed_paired_2.fastq</span>
<span id="cb30-17"><a href="software.html#cb30-17" aria-hidden="true" tabindex="-1"></a>                </span>
<span id="cb30-18"><a href="software.html#cb30-18" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mv</span> !{fq_prefix}_1_unpaired_1.fq !{fq_prefix}_unpaired_1.fastq</span>
<span id="cb30-19"><a href="software.html#cb30-19" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mv</span> !{fq_prefix}_2_unpaired_2.fq !{fq_prefix}_unpaired_2.fastq</span>
<span id="cb30-20"><a href="software.html#cb30-20" aria-hidden="true" tabindex="-1"></a><span class="cf">else</span></span>
<span id="cb30-21"><a href="software.html#cb30-21" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mv</span> !{fq_prefix}_trimmed.fq !{fq_prefix}_trimmed.fastq</span>
<span id="cb30-22"><a href="software.html#cb30-22" aria-hidden="true" tabindex="-1"></a><span class="cf">fi</span></span></code></pre></div>

</div>
</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="configuration.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="help.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
