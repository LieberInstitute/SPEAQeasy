<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>8 Configuration | SPEAQeasy</title>
  <meta name="description" content="8 Configuration | SPEAQeasy" />
  <meta name="generator" content="bookdown 0.22 and GitBook 2.6.7" />

  <meta property="og:title" content="8 Configuration | SPEAQeasy" />
  <meta property="og:type" content="book" />
  
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="8 Configuration | SPEAQeasy" />
  
  
  




  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="outputs.html"/>
<link rel="next" href="software.html"/>
<script src="libs/header-attrs-2.7/header-attrs.js"></script>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<link href="libs/anchor-sections-1.0.1/anchor-sections.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.0.1/anchor-sections.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Overview</a>
<ul>
<li><a href="index.html#cite-speaqeasy">Cite <code>SPEAQeasy</code></a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#r-session-information"><i class="fa fa-check"></i>R session information</a></li>
</ul></li>
<li class="chapter" data-level="1" data-path="quick-start.html"><a href="quick-start.html"><i class="fa fa-check"></i><b>1</b> Quick Start</a>
<ul>
<li class="chapter" data-level="1.1" data-path="quick-start.html"><a href="quick-start.html#setup"><i class="fa fa-check"></i><b>1.1</b> Setup</a></li>
<li class="chapter" data-level="1.2" data-path="quick-start.html"><a href="quick-start.html#quick-config"><i class="fa fa-check"></i><b>1.2</b> Configuration</a>
<ul>
<li class="chapter" data-level="1.2.1" data-path="quick-start.html"><a href="quick-start.html#your-main-script"><i class="fa fa-check"></i><b>1.2.1</b> Your “main” script</a></li>
<li class="chapter" data-level="1.2.2" data-path="quick-start.html"><a href="quick-start.html#your-config-file"><i class="fa fa-check"></i><b>1.2.2</b> Your config file</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="2" data-path="setup-details.html"><a href="setup-details.html"><i class="fa fa-check"></i><b>2</b> Setup Details</a>
<ul>
<li class="chapter" data-level="2.1" data-path="setup-details.html"><a href="setup-details.html#requirements"><i class="fa fa-check"></i><b>2.1</b> Requirements</a></li>
<li class="chapter" data-level="2.2" data-path="setup-details.html"><a href="setup-details.html#installation"><i class="fa fa-check"></i><b>2.2</b> Installation</a>
<ul>
<li class="chapter" data-level="2.2.1" data-path="setup-details.html"><a href="setup-details.html#troubleshooting"><i class="fa fa-check"></i><b>2.2.1</b> Troubleshooting</a></li>
</ul></li>
<li class="chapter" data-level="2.3" data-path="setup-details.html"><a href="setup-details.html#run-the-pipeline"><i class="fa fa-check"></i><b>2.3</b> Run the Pipeline</a>
<ul>
<li class="chapter" data-level="2.3.1" data-path="setup-details.html"><a href="setup-details.html#run-in-a-slurm-environment-cluster"><i class="fa fa-check"></i><b>2.3.1</b> Run in a SLURM environment/ cluster</a></li>
<li class="chapter" data-level="2.3.2" data-path="setup-details.html"><a href="setup-details.html#run-on-a-sun-grid-engines-sge-cluster"><i class="fa fa-check"></i><b>2.3.2</b> Run on a Sun Grid Engines (SGE) cluster</a></li>
<li class="chapter" data-level="2.3.3" data-path="setup-details.html"><a href="setup-details.html#run-locally"><i class="fa fa-check"></i><b>2.3.3</b> Run locally</a></li>
<li class="chapter" data-level="2.3.4" data-path="setup-details.html"><a href="setup-details.html#run-on-the-jhpce-cluster"><i class="fa fa-check"></i><b>2.3.4</b> Run on the <span>JHPCE</span> cluster</a></li>
<li class="chapter" data-level="2.3.5" data-path="setup-details.html"><a href="setup-details.html#example-main-script"><i class="fa fa-check"></i><b>2.3.5</b> Example main script</a></li>
<li class="chapter" data-level="2.3.6" data-path="setup-details.html"><a href="setup-details.html#advanced-info-regarding-installation"><i class="fa fa-check"></i><b>2.3.6</b> Advanced info regarding installation</a></li>
</ul></li>
<li class="chapter" data-level="2.4" data-path="setup-details.html"><a href="setup-details.html#sharing"><i class="fa fa-check"></i><b>2.4</b> Sharing the pipeline with many users</a>
<ul>
<li class="chapter" data-level="2.4.1" data-path="setup-details.html"><a href="setup-details.html#customizing-execution-for-each-user"><i class="fa fa-check"></i><b>2.4.1</b> Customizing execution for each user</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="command-opts.html"><a href="command-opts.html"><i class="fa fa-check"></i><b>3</b> All Command Options</a>
<ul>
<li class="chapter" data-level="3.1" data-path="command-opts.html"><a href="command-opts.html#speaqeasy-options"><i class="fa fa-check"></i><b>3.1</b> SPEAQeasy Options</a>
<ul>
<li class="chapter" data-level="3.1.1" data-path="command-opts.html"><a href="command-opts.html#mandatory-parameters"><i class="fa fa-check"></i><b>3.1.1</b> Mandatory Parameters</a></li>
<li class="chapter" data-level="3.1.2" data-path="command-opts.html"><a href="command-opts.html#optional-parameters"><i class="fa fa-check"></i><b>3.1.2</b> Optional Parameters</a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="command-opts.html"><a href="command-opts.html#next-opts"><i class="fa fa-check"></i><b>3.2</b> Nextflow Options</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="pipeline-overview.html"><a href="pipeline-overview.html"><i class="fa fa-check"></i><b>4</b> Pipeline Overview</a>
<ul>
<li class="chapter" data-level="4.1" data-path="pipeline-overview.html"><a href="pipeline-overview.html#preparation-steps"><i class="fa fa-check"></i><b>4.1</b> Preparation Steps</a>
<ul>
<li class="chapter" data-level="4.1.1" data-path="pipeline-overview.html"><a href="pipeline-overview.html#downloading-required-annotation-files"><i class="fa fa-check"></i><b>4.1.1</b> Downloading required annotation files</a></li>
<li class="chapter" data-level="4.1.2" data-path="pipeline-overview.html"><a href="pipeline-overview.html#preparing-annotation-files-for-direct-use"><i class="fa fa-check"></i><b>4.1.2</b> Preparing annotation files for direct use</a></li>
</ul></li>
<li class="chapter" data-level="4.2" data-path="pipeline-overview.html"><a href="pipeline-overview.html#main-workflow-steps"><i class="fa fa-check"></i><b>4.2</b> Main Workflow Steps</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="annotation.html"><a href="annotation.html"><i class="fa fa-check"></i><b>5</b> Annotation</a>
<ul>
<li class="chapter" data-level="5.1" data-path="annotation.html"><a href="annotation.html#default-annotation"><i class="fa fa-check"></i><b>5.1</b> Default Annotation</a>
<ul>
<li class="chapter" data-level="5.1.1" data-path="annotation.html"><a href="annotation.html#choosing-a-release"><i class="fa fa-check"></i><b>5.1.1</b> Choosing a release</a></li>
<li class="chapter" data-level="5.1.2" data-path="annotation.html"><a href="annotation.html#choosing-a-build"><i class="fa fa-check"></i><b>5.1.2</b> Choosing a “build”</a></li>
<li class="chapter" data-level="5.1.3" data-path="annotation.html"><a href="annotation.html#additional-annotation-files"><i class="fa fa-check"></i><b>5.1.3</b> Additional Annotation files</a></li>
</ul></li>
<li class="chapter" data-level="5.2" data-path="annotation.html"><a href="annotation.html#custom-annotation"><i class="fa fa-check"></i><b>5.2</b> Custom Annotation</a>
<ul>
<li class="chapter" data-level="5.2.1" data-path="annotation.html"><a href="annotation.html#optional-files-to-include-depending-on-your-use-case"><i class="fa fa-check"></i><b>5.2.1</b> Optional files to include depending on your use-case</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="6" data-path="manifest.html"><a href="manifest.html"><i class="fa fa-check"></i><b>6</b> Manifest and Inputs</a>
<ul>
<li class="chapter" data-level="6.1" data-path="manifest.html"><a href="manifest.html#what-the-manifest-should-look-like"><i class="fa fa-check"></i><b>6.1</b> What the Manifest Should Look Like</a>
<ul>
<li class="chapter" data-level="6.1.1" data-path="manifest.html"><a href="manifest.html#more-details-regarding-inputs"><i class="fa fa-check"></i><b>6.1.1</b> More details regarding inputs</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="7" data-path="outputs.html"><a href="outputs.html"><i class="fa fa-check"></i><b>7</b> Pipeline Outputs</a>
<ul>
<li class="chapter" data-level="7.1" data-path="outputs.html"><a href="outputs.html#main-outputs"><i class="fa fa-check"></i><b>7.1</b> Main Outputs</a>
<ul>
<li class="chapter" data-level="7.1.1" data-path="outputs.html"><a href="outputs.html#quality-metrics"><i class="fa fa-check"></i><b>7.1.1</b> Quality Metrics</a></li>
</ul></li>
<li class="chapter" data-level="7.2" data-path="outputs.html"><a href="outputs.html#intermediary-outputs"><i class="fa fa-check"></i><b>7.2</b> Intermediary Outputs</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="configuration.html"><a href="configuration.html"><i class="fa fa-check"></i><b>8</b> Configuration</a>
<ul>
<li class="chapter" data-level="8.1" data-path="configuration.html"><a href="configuration.html#specifying-options-for-your-cluster"><i class="fa fa-check"></i><b>8.1</b> Specifying Options for your Cluster</a>
<ul>
<li class="chapter" data-level="8.1.1" data-path="configuration.html"><a href="configuration.html#time"><i class="fa fa-check"></i><b>8.1.1</b> Time</a></li>
<li class="chapter" data-level="8.1.2" data-path="configuration.html"><a href="configuration.html#cluster-specific-options"><i class="fa fa-check"></i><b>8.1.2</b> Cluster-specific options</a></li>
</ul></li>
<li class="chapter" data-level="8.2" data-path="configuration.html"><a href="configuration.html#speaqeasy-parameters"><i class="fa fa-check"></i><b>8.2</b> SPEAQeasy Parameters</a>
<ul>
<li class="chapter" data-level="8.2.1" data-path="configuration.html"><a href="configuration.html#annotation-settings"><i class="fa fa-check"></i><b>8.2.1</b> Annotation settings</a></li>
<li class="chapter" data-level="8.2.2" data-path="configuration.html"><a href="configuration.html#software-settings"><i class="fa fa-check"></i><b>8.2.2</b> Software settings</a></li>
<li class="chapter" data-level="8.2.3" data-path="configuration.html"><a href="configuration.html#miscellaneous-settings"><i class="fa fa-check"></i><b>8.2.3</b> Miscellaneous settings</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="9" data-path="software.html"><a href="software.html"><i class="fa fa-check"></i><b>9</b> Software</a>
<ul>
<li class="chapter" data-level="9.1" data-path="software.html"><a href="software.html#software-versions"><i class="fa fa-check"></i><b>9.1</b> Software Versions</a></li>
<li class="chapter" data-level="9.2" data-path="software.html"><a href="software.html#docker-images"><i class="fa fa-check"></i><b>9.2</b> Docker Images</a></li>
<li class="chapter" data-level="9.3" data-path="software.html"><a href="software.html#using-custom-software"><i class="fa fa-check"></i><b>9.3</b> Using Custom Software</a>
<ul>
<li class="chapter" data-level="9.3.1" data-path="software.html"><a href="software.html#prerequisites"><i class="fa fa-check"></i><b>9.3.1</b> Prerequisites</a></li>
<li class="chapter" data-level="9.3.2" data-path="software.html"><a href="software.html#modifying-main.nf"><i class="fa fa-check"></i><b>9.3.2</b> Modifying <code>main.nf</code></a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="10" data-path="help.html"><a href="help.html"><i class="fa fa-check"></i><b>10</b> Help</a>
<ul>
<li class="chapter" data-level="10.1" data-path="help.html"><a href="help.html#common-errors"><i class="fa fa-check"></i><b>10.1</b> Common Errors</a></li>
<li class="chapter" data-level="10.2" data-path="help.html"><a href="help.html#deeper-investigation"><i class="fa fa-check"></i><b>10.2</b> Deeper Investigation</a>
<ul>
<li class="chapter" data-level="10.2.1" data-path="help.html"><a href="help.html#checking-per-sample-logs"><i class="fa fa-check"></i><b>10.2.1</b> Checking Per-Sample Logs</a></li>
</ul></li>
<li class="chapter" data-level="10.3" data-path="help.html"><a href="help.html#resuming"><i class="fa fa-check"></i><b>10.3</b> Resuming</a>
<ul>
<li class="chapter" data-level="10.3.1" data-path="help.html"><a href="help.html#trouble-resuming"><i class="fa fa-check"></i><b>10.3.1</b> Trouble resuming?</a></li>
</ul></li>
<li class="chapter" data-level="10.4" data-path="help.html"><a href="help.html#no-internet-access"><i class="fa fa-check"></i><b>10.4</b> No Internet Access?</a></li>
<li class="chapter" data-level="10.5" data-path="help.html"><a href="help.html#docker-help"><i class="fa fa-check"></i><b>10.5</b> Docker help</a></li>
</ul></li>
<li class="chapter" data-level="11" data-path="glossary.html"><a href="glossary.html"><i class="fa fa-check"></i><b>11</b> Glossary</a></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">SPEAQeasy</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="configuration" class="section level1" number="8">
<h1><span class="header-section-number">8</span> Configuration</h1>
<p>SPEAQeasy is designed to be highly customizable, yet need no configuration from a user wishing to rely on sensible default settings. Most configuration, including software settings, hardware resources such as memory and CPU use, and more, can be done in a single file determined <a href="setup-details.html#setup-details">here</a>. Please note that the common, “major” <a href="command-opts.html#command-opts">options</a> are specified in your <a href="quick-start.html#quick-config">main script</a>, and not in the configuration file. The config is intended to hold the “finer details”, which are documented below.</p>
<div id="specifying-options-for-your-cluster" class="section level2" number="8.1">
<h2><span class="header-section-number">8.1</span> Specifying Options for your Cluster</h2>
<p>In many cases, a user has access to a computing cluster which they intend to run SPEAQeasy on. If your cluster is SLURM or SGE-based, the pipeline is pre-configured with options you may be used to specifying (such as disk usage, time for a job to run, etc). However, these are straightforward to modify, should there be a need/desire. Common settings are described in detail below; however, a more comprehensive list of settings from nextflow can be found <a href="https://www.nextflow.io/docs/latest/process.html#directives">here</a>.</p>
<div id="time" class="section level3" number="8.1.1">
<h3><span class="header-section-number">8.1.1</span> Time</h3>
<p>The maximum allowed run time for a process, or step in the pipeline, can be specified. For SGE users, this may be unimportant; however, SLURM users may be charged based on run time for their jobs.</p>
<div id="default-for-all-processes" class="section level4" number="8.1.1.1">
<h4><span class="header-section-number">8.1.1.1</span> Default for all processes</h4>
<p>The simplest change you may wish to make is to relax time constraints for all processes. The setting for this is here:</p>
<div class="sourceCode" id="cb20"><pre class="sourceCode groovy"><code class="sourceCode groovy"><span id="cb20-1"><a href="configuration.html#cb20-1" aria-hidden="true" tabindex="-1"></a>executor <span class="op">{</span></span>
<span id="cb20-2"><a href="configuration.html#cb20-2" aria-hidden="true" tabindex="-1"></a>  name <span class="op">=</span> <span class="st">&#39;sge&#39;</span></span>
<span id="cb20-3"><a href="configuration.html#cb20-3" aria-hidden="true" tabindex="-1"></a>  queueSize <span class="op">=</span> <span class="dv">40</span></span>
<span id="cb20-4"><a href="configuration.html#cb20-4" aria-hidden="true" tabindex="-1"></a>  submitRateLimit <span class="op">=</span> <span class="st">&#39;1 sec&#39;</span></span>
<span id="cb20-5"><a href="configuration.html#cb20-5" aria-hidden="true" tabindex="-1"></a>  exitReadTimeout <span class="op">=</span> <span class="st">&#39;30 min&#39;</span></span>
<span id="cb20-6"><a href="configuration.html#cb20-6" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span>
<span id="cb20-7"><a href="configuration.html#cb20-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-8"><a href="configuration.html#cb20-8" aria-hidden="true" tabindex="-1"></a>process <span class="op">{</span></span>
<span id="cb20-9"><a href="configuration.html#cb20-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-10"><a href="configuration.html#cb20-10" aria-hidden="true" tabindex="-1"></a>  time <span class="op">=</span> <span class="fl">10.</span>hour  <span class="co">// this can be adjusted as needed</span></span>
<span id="cb20-11"><a href="configuration.html#cb20-11" aria-hidden="true" tabindex="-1"></a>  errorStrategy <span class="op">=</span> <span class="op">{</span> task<span class="op">.</span>exitStatus <span class="op">==</span> <span class="dv">140</span> <span class="op">?</span> <span class="st">&#39;retry&#39;</span> <span class="op">:</span> <span class="st">&#39;terminate&#39;</span> <span class="op">}</span></span>
<span id="cb20-12"><a href="configuration.html#cb20-12" aria-hidden="true" tabindex="-1"></a>  maxRetries <span class="op">=</span> <span class="dv">1</span></span></code></pre></div>
<p>While the syntax is not strict, some examples for properly specifying the option are <code>time = '5m'</code>, <code>time = '2h'</code>, and <code>time = '1d'</code> (minutes, hours, and days, respectively).</p>
</div>
<div id="specify-per-process" class="section level4" number="8.1.1.2">
<h4><span class="header-section-number">8.1.1.2</span> Specify per-process</h4>
<p>SLURM users especially may want to modify the time setting by process. This can be done with the same syntax- suppose you wish to request 30 minutes for a given sample to be trimmed (note process names <a href="pipeline-overview.html#pipeline-overview">here</a>). In the “process” section of your config, find the section labelled “withName: Trimming” as in the example here:</p>
<div class="sourceCode" id="cb21"><pre class="sourceCode groovy"><code class="sourceCode groovy"><span id="cb21-1"><a href="configuration.html#cb21-1" aria-hidden="true" tabindex="-1"></a>withName<span class="op">:</span> Trimming <span class="op">{</span></span>
<span id="cb21-2"><a href="configuration.html#cb21-2" aria-hidden="true" tabindex="-1"></a>    cpus <span class="op">=</span> <span class="dv">4</span></span>
<span id="cb21-3"><a href="configuration.html#cb21-3" aria-hidden="true" tabindex="-1"></a>    memory <span class="op">=</span> <span class="fl">16.G</span>B</span>
<span id="cb21-4"><a href="configuration.html#cb21-4" aria-hidden="true" tabindex="-1"></a>    time <span class="op">=</span> <span class="st">&#39;30m&#39;</span></span>
<span id="cb21-5"><a href="configuration.html#cb21-5" aria-hidden="true" tabindex="-1"></a>    disk <span class="op">=</span> <span class="fl">80.G</span>B</span>
<span id="cb21-6"><a href="configuration.html#cb21-6" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
</div>
</div>
<div id="cluster-specific-options" class="section level3" number="8.1.2">
<h3><span class="header-section-number">8.1.2</span> Cluster-specific options</h3>
<p>In some cases, you may find it simpler to directly specify options accepted by your cluster. For example, SGE users with a default limit on the maximum file size they may write might specify the following:</p>
<div class="sourceCode" id="cb22"><pre class="sourceCode groovy"><code class="sourceCode groovy"><span id="cb22-1"><a href="configuration.html#cb22-1" aria-hidden="true" tabindex="-1"></a>withName<span class="op">:</span> PairedEndHISAT <span class="op">{</span></span>
<span id="cb22-2"><a href="configuration.html#cb22-2" aria-hidden="true" tabindex="-1"></a>    cpus <span class="op">=</span> <span class="dv">4</span></span>
<span id="cb22-3"><a href="configuration.html#cb22-3" aria-hidden="true" tabindex="-1"></a>    memory <span class="op">=</span> <span class="st">&#39;20.GB&#39;</span></span>
<span id="cb22-4"><a href="configuration.html#cb22-4" aria-hidden="true" tabindex="-1"></a>    penv <span class="op">=</span> <span class="st">&#39;local&#39;</span></span>
<span id="cb22-5"><a href="configuration.html#cb22-5" aria-hidden="true" tabindex="-1"></a>    clusterOptions <span class="op">=</span> <span class="st">&#39;-l h_fsize=500G&#39;</span> <span class="co">// This is SGE-specific syntax </span></span>
<span id="cb22-6"><a href="configuration.html#cb22-6" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<p>As with the time option, this can be specified per-process or for all processes. Any option recognized by your cluster may be used.</p>
</div>
</div>
<div id="speaqeasy-parameters" class="section level2" number="8.2">
<h2><span class="header-section-number">8.2</span> SPEAQeasy Parameters</h2>
<p>A number of variables in your <a href="quick-start.html#quick-start">config file</a> exist to control choices about annotation to use, options passed to software tools, and more. These need not necessarily be changed, but allow more precise control over the pipeline if desired. Values for these variables may be changed in the “params” section of your config (near the top). A full descriptive list is provided below.</p>
<div id="annotation-settings" class="section level3" number="8.2.1">
<h3><span class="header-section-number">8.2.1</span> Annotation settings</h3>
<ul>
<li><em>gencode_version_human</em>: the GENCODE release to use for default (non-custom) annotation, when “hg38” or “hg19” references are used. A string, such as “32”.</li>
<li><em>gencode_version_mouse</em>: the GENCODE release to use for default (non-custom) annotation, when “mm10” reference is used. A string, such as “M23”.</li>
<li><em>ensembl_version_rat</em>: the Ensembl version to use for default (non-custom) annotation, when “rn6” reference is used. A string, such as “98”.</li>
<li><em>anno_build</em>: controls which sequences are used in analysis with default (non-custom) annotation. “main” indicates only canonical reference sequences; “primary” includes additional scaffolds.</li>
</ul>
</div>
<div id="software-settings" class="section level3" number="8.2.2">
<h3><span class="header-section-number">8.2.2</span> Software settings</h3>
<p>Command-line parameters can be directly passed to most software tools used in the pipeline, through configuration. Note that SPEAQeasy internally passes certain command-line options to some software tools, in a way that can not be overriden in the configuration file. This is done for options which control parallelization, file naming, or other functions which must either be fixed or are configurable through other means (e.g. number of threads is implicitly controlled by the <code>cpus</code> variable in the <code>QualityUntrimmed</code> process, rather than directly via the <code>-t</code> argument to <code>fastqc</code>). Open your particular config file determined <a href="setup-details.html#setup-details">here</a> for details of which options are fixed vs. which can be specified through configuration. A list of variables which control command-line arguments is as follows:</p>
<ul>
<li><em>bam2wig_args</em>: a string of optional arguments to pass to <code>bam2wig.py</code> from <a href="http://rseqc.sourceforge.net/">RSeQC</a>, when producing coverage wig files from BAM alignments.</li>
<li><em>bcftools_args</em>: a string of optional arguments to pass to <code>bcftools call</code> when calling variants (applicable for human samples only).</li>
<li><em>fastqc_args</em>: a string of optional arguments to pass to <code>fastqc</code> when performing quality checking before (and if applicable, after) trimming.</li>
<li><em>feat_counts_gene_args</em> and <em>feat_counts_exon_args</em>: strings of optional arguments passed to <a href="http://bioinf.wehi.edu.au/featureCounts/">FeatureCounts</a> when counting genes and exons, respectively.</li>
<li><em>hisat2_args</em>: a string of optional arguments to pass to <code>hisat2-align</code>.</li>
<li><em>kallisto_len_mean</em> and <em>kallisto_len_sd</em>: the mean and standard deviation for fragment length, required by <code>kallisto quant</code> when performing pseudoalignment. It is recommended you directly modify these variables rather than individually modifying <code>kallisto_quant_single_args</code> and<code>kallisto_quant_ercc_single_args</code>. These variables are also used when performing our pseudo-alignment-based approach to inferring strandness with single-end samples.</li>
<li><em>kallisto_quant_single_args</em> and <em>kallisto_quant_paired_args</em>: a string of arguments to pass to <code>kallisto quant</code> when performing pseudo-alignment to the reference transcriptome, for single-end and paired-end samples, respectively.</li>
<li><em>kallisto_quant_ercc_single_args</em> and <em>kallisto_quant_ercc_paired_args</em>: a string of optional arguments to pass to <code>kallisto quant</code> for performing pseudo-alignment to the list of synthetic ERCC-defined transcripts, for applicable experiments.</li>
<li><em>kallisto_index_args</em>: a string of optional arguments to pass to <code>kallisto index</code> when first preparing <code>kallisto</code> for a given reference transcriptome.</li>
<li><em>salmon_index_args</em>: a string of optional arguments to pass to <code>salmon index</code> when first preparing <code>salmon</code> for a given reference transcriptome. Note that Kallisto is used instead of Salmon, by default (see the <code>--use_salmon</code> <a href="command-opts.html#command-opts">option</a>).</li>
<li><em>salmon_quant_args</em>: a string of optional arguments to pass to <code>salmon quant</code> when quantifying transcript abundances with Salmon.</li>
<li><em>samtools_args</em>: a string of optional arguments to pass to <code>samtools mpileup</code> before calling variants on human samples.</li>
<li><em>star_args</em>: a string of optional arguments to pass to <code>STAR</code> when aligning samples to the chosen reference genome.</li>
<li><em>trim_adapter_args_single</em>, <em>trim_adapter_args_paired</em>: these are passed to the <code>ILLUMINACLIP</code> settings for <a href="http://www.usadellab.org/cms/uploads/supplementary/Trimmomatic/TrimmomaticManual_V0.32.pdf">trimmomatic</a> (after the adapter) for analysis with single and paired-end reads, respectively. Leave empty (i.e. "") to not perform adapter trimming.</li>
<li><em>trim_quality_args</em>: literal string arguments used for quality trimming- leave empty (i.e. "") to not perform quality trimming. An example value could be <code>"LEADING:3 TRAILING:3 SLIDINGWINDOW:4:15 MINLEN:75"</code>.</li>
<li><em>regtools_args</em>: a string of optional arguments to pass to <code>regtools junctions extract</code> when quantifying junctions.</li>
<li><em>wigToBigWig_args</em>: a string of optional arguments to pass to <code>wigToBigWig</code> when producing coverage BigWig files from their wig counterparts.</li>
</ul>
</div>
<div id="miscellaneous-settings" class="section level3" number="8.2.3">
<h3><span class="header-section-number">8.2.3</span> Miscellaneous settings</h3>
<p>A couple configuration variables control functionality specific to SPEAQeasy (i.e. not external software tools called by SPEAQeasy). These are documented below.</p>
<ul>
<li><em>num_reads_infer_strand</em>: The number of lines in each FASTQ file to subset when determining strandness for a sample.</li>
<li><em>wiggletools_max_threads</em>: The maximum number of files to handle simultaneously when producing wig coverage files. We have encountered issues with <code>wiggletools</code> starting too many threads (one is used per sample handled), and so this can be lowered if similar issues occur for other users in large experiments.</li>
</ul>

</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="outputs.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="software.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
